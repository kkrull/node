<html>
  <head>
    <title>Health Check</title>
    <script src="healthcheck.js"></script>
  </head>

  <body>
    <h1>Health Check</h1>
    <ul>
      <li>My own status: <span class="self__status">Checking...</span></li>
      <li>API server status: <span class="api__status">Checking...</span></li>
    </ul>

    <script>
      (function() {
        const apiStatus = () => document.querySelector('.api__status');
        const selfStatus = () => document.querySelector('.self__status');

        fetchStatus('/health').then(status => {
          selfStatus().textContent = status;
        });

        fetchStatus('/api/health').then(status => {
          apiStatus().textContent = status;
        });
      })();
    </script>
  </body>
</html>
